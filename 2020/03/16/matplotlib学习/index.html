<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Matplotlib学习 - emacsist</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="emacsist" />
  <meta name="description" content="概念 figure 在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布. Axes" />

  <meta name="keywords" content="Golang, Java, PostgreSQL, Postgres, MySQL, emacsist, RabbitMQ, Go, emacs, orgmode" />






<meta name="generator" content="Hugo 0.57.0" />


<link rel="canonical" href="https://emacsist.github.io/2020/03/16/matplotlib%E5%AD%A6%E4%B9%A0/" />

<link href="." rel="alternate" type="application/rss+xml" title="emacsist" />
<link href="." rel="feed" type="application/rss+xml" title="emacsist" />



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<link href="/dist/even.min.css?v=3.1.1" rel="stylesheet">





<meta property="og:title" content="Matplotlib学习" />
<meta property="og:description" content="概念 figure 在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布. Axes" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://emacsist.github.io/2020/03/16/matplotlib%E5%AD%A6%E4%B9%A0/" />
<meta property="article:published_time" content="2020-03-16T23:05:54+08:00" />
<meta property="article:modified_time" content="2020-03-16T23:05:54+08:00" />
<meta itemprop="name" content="Matplotlib学习">
<meta itemprop="description" content="概念 figure 在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布. Axes">


<meta itemprop="datePublished" content="2020-03-16T23:05:54&#43;08:00" />
<meta itemprop="dateModified" content="2020-03-16T23:05:54&#43;08:00" />
<meta itemprop="wordCount" content="3725">



<meta itemprop="keywords" content="python,matplotlib,matplot," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Matplotlib学习"/>
<meta name="twitter:description" content="概念 figure 在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布. Axes"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">emacsist</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">emacsist</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Matplotlib学习</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-03-16 </span>
        
        <span class="more-meta"> 3725 words </span>
        <span class="more-meta"> 8 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li><a href="#概念">概念</a>
<ul>
<li><a href="#figure">figure</a></li>
<li><a href="#axes">Axes</a></li>
</ul></li>
<li><a href="#基础">基础</a>
<ul>
<li><a href="#堆积条形图">堆积条形图</a></li>
<li><a href="#多数据并列柱状图">多数据并列柱状图</a></li>
<li><a href="#多数据并列条形图">多数据并列条形图</a></li>
<li><a href="#间断条形图">间断条形图</a></li>
</ul></li>
<li><a href="#直方图">直方图</a>
<ul>
<li><a href="#堆积直方图">堆积直方图</a></li>
</ul></li>
<li><a href="#plt-legend-loc-lower-left">plt.legend(loc=&ldquo;lower left&rdquo;)</a></li>
<li><a href="#plt-legend-loc-lower-left-1">plt.legend(loc=&ldquo;lower left&rdquo;)</a></li>
<li><a href="#plt-legend-loc-lower-left-2">plt.legend(loc=&ldquo;lower left&rdquo;)</a></li>
<li><a href="#plt-legend-loc-lower-left-3">plt.legend(loc=&ldquo;lower left&rdquo;)</a></li>
<li><a href="#np-random-randint-5-size-2-4">np.random.randint(5, size=(2, 4))</a></li>
<li><a href="#set-major">set major</a></li>
<li><a href="#set-minor">set minor</a></li>
<li><a href="#set-minor-formatter">set minor formatter</a></li>
<li><a href="#风格">风格</a></li>
<li><a href="#tex-功能">TeX 功能</a></li>
<li><a href="#资料">资料</a></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h1 id="概念">概念</h1>

<h2 id="figure">figure</h2>

<p>在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布.</p>

<h2 id="axes">Axes</h2>

<p>在画布上, 就是图形. 这些图形就是 Axes 实例. 它的 x, y 轴分别可引用<code>Axes.xaxis</code> 和 <code>Axes.yaxis</code></p>

<h1 id="基础">基础</h1>

<blockquote>
<pre><code class="language-python">&gt; import matplotlib.pyplot as plt
&gt; ```

## plot 方法(折线图)

&gt;  展现变量的趋势变化

`plt.plot(x, y, ls=&quot;-&quot;, lw=2, label=&quot;plot figure&quot;)`

- `x` : 表示 x 轴上的数据
- `y` ; 表示 y 轴上的数据
- `ls` : 表示折线图的线条风格
- `lw` : 表示折线图的线条宽度
- `label` : 表示图形内容的标签文本. 这个内容要调用 `plt.legend()` 方法才会显示

### 堆积折线图

</code></pre>

<p>python
labels=[&ldquo;l1&rdquo;, &ldquo;l2&rdquo;, &ldquo;l3&rdquo;]
colors=[&ldquo;#8da0cb&rdquo;, &ldquo;#fc8d62&rdquo;, &ldquo;#66c2a5&rdquo;]
plt.stackplot(x, y, y1, y2, labels=labels, colors=colors)</p>

<pre><code>


## scatter 方法(散点图)

&gt; 寻找变量之间的关系

`plt.scatter(x, y, c=&quot;b&quot;, label=&quot;scatter figure&quot;)`

- `x` : x 轴上的数据
- `y` : y 轴上的数据
- `c` : 散点图中的标记的颜色
- `label` : 标记图形内容的标签文本

## xlim/ylim 方法

&gt; 设置 X 轴的数值显示范围

`plt.xlim(xmin, xmax)`

- `xmin` : x 轴上最小值
- `xmax` : x 轴上最大值

## xlabel/ylabel 方法

&gt; 设置 x, y 轴的标签文本

## grid 方法

&gt; 设置刻度线的网格线

`plt.grid(linestyle=&quot;:&quot;, color=&quot;r&quot;)`

- `linestyle` : 网格线的线条风格
- `color` : 线条的颜色
- `axis=&quot;y&quot;` : 只画 Y 轴

## axhline / axvline 方法

&gt; 绘制平行于 x 轴/y轴 的水平参考线

`plt.axhline(y=0.0, c=&quot;r&quot;, ls=&quot;--&quot;, lw=2)`

- `y` : y 水平参考线的出发点 . 如果是 x 的水平参考线, 则这里为 x
- `c` : 参考线的颜色
- `ls` : 参考线的风格
- `lw` : 参考线的宽度

## axvspan/axhspan 方法

&gt; 绘制垂直于 x/y 轴的参考区域

`plt.axvspan(xmin=1.0, xmax=2.0, facecolor=&quot;y&quot;, alpha=0.3)`

- `xmin` : 参考区域的开始位置
- `xmax` : 参考区域的最大位置
- `facecolor` : 填充颜色
- `alpha` : 填充区域的透明度

## annotate 方法

&gt; 添加图形内容细节的指向型注释文本

`plt.annotate(string, xy=(np.pi/2, 1.0), xytext=((np.pi/2) + 0.15, 1.5), weight=&quot;bold&quot;, color=&quot;b&quot;, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3&quot;, color=&quot;b&quot;))`

- `string` : 注解的文本
- `xy` : 被注释图形内容的位置坐标
- `xytext` : 注释文本的位置坐标
- `weight` : 注释文本的字体粗细风格
- `color` : 注释文本的字体颜色
- `arrowprops` : 指示被注释内容的箭头的属性字典

## text 方法

&gt; 添加图形内容细节的无指向型注释文本

`plt.text(x, y, string, weight=&quot;bold&quot;, color=&quot;b&quot;, bbox=dict(facecolor=&quot;y&quot;, alpha=0.5))`

- `x` : 注释文本所在位置的横坐标
- `y` : 注释文本所在位置的纵坐标
- `string` : 注释文本的内容
- `bbox` : 设置文本块的填充色及透明度

## title 方法

&gt; 添加图形内容的标题

`plt.title(string)`

## legend 方法

&gt; 指标不同图形的文本标签图例

`plt.legend(loc=&quot;lower left&quot;)`

- `loc` : 图例在图中的位置

# 柱状图

`plt.bar(x, y, align=&quot;center&quot;, color=&quot;c&quot;, tick_label=[&quot;x 轴数据对应别称&quot;, ...], hatch=&quot;/&quot;)` 这个是竖

`plt.barh(x, y, align=&quot;center&quot;, color=&quot;c&quot;, tick_label=[&quot;x 轴数据对应别称&quot;, ...], hatch=&quot;/&quot;)` 这个是横(即条形图)

- `x` : x 轴的数据
- `y` : y 轴的数据

## 堆积柱状图

</code></pre>

<p>python
plt.bar(x, y, align=&ldquo;center&rdquo;, color=&ldquo;#66c2a5&rdquo;, tick_label=[x 轴别称&hellip;], label=&ldquo;班级 A&rdquo;)
plt.bar(x, y2, align=&ldquo;center&rdquo;, bottom=y, color=&ldquo;#8da0cb&rdquo;, label=&ldquo;班级B&rdquo;)
````</p>

<h2 id="堆积条形图">堆积条形图</h2>

<pre><code class="language-python">plt.barh(x, y, align=&quot;center&quot;, color=&quot;#66c2a5&quot;, tick_label=[x 轴别称...], label=&quot;班级 A&quot;)
plt.barh(x, y2, align=&quot;center&quot;, left=y, color=&quot;#8da0cb&quot;, label=&quot;班级B&quot;)
</code></pre>

<h2 id="多数据并列柱状图">多数据并列柱状图</h2>

<pre><code class="language-python">bar_width = 0.35
tick_label=[...]
plt.bar(x, y,  align=&quot;center&quot;, color=&quot;#66c2a5&quot;, label=&quot;班级 A&quot;, alpha=0.5)
plt.bar(x+bar_width, y2, bar_width, align=&quot;center&quot;, color=&quot;#8da0cb&quot;, label=&quot;班级B&quot;, alpha=0.5)
plt.xticks(x+bar_width/2, tick_label)
</code></pre>

<h2 id="多数据并列条形图">多数据并列条形图</h2>

<pre><code class="language-python">plt.barh(x, y, bar_width,align=&quot;center&quot;, color=&quot;#66c2a5&quot;, label=&quot;班级 A&quot;, alpha=0.5)
plt.barh(x+bar_width, y2, bar_width, align=&quot;center&quot;, color=&quot;#8da0cb&quot;, label=&quot;班级B&quot;, alpha=0.5)
plt.yticks(x+bar_width/2, tick_label)
</code></pre>

<h2 id="间断条形图">间断条形图</h2>

<p><code>plt.broken_barh(...)</code></p>

<h1 id="直方图">直方图</h1>

<p><code>plt.hist(x, bins=bins, color=&quot;g&quot;, histtyle=&quot;bar&quot;, rwidth=1, alpha=0.6)</code></p>

<ul>
<li><code>x</code> : 要绘制直方图的数据</li>
<li><code>bins</code> :  X 轴的区间数据. 比如 <code>[1,2,3,4]</code> 表示, 第一个 bin 是 <code>[1,2)</code>, 第二个是 <code>[2,3)</code> 以此类推</li>
</ul>

<h2 id="堆积直方图">堆积直方图</h2>

<p>```python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>
</blockquote>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>score1 = np.random.randint(0, 100, 100)
score2 = np.random.randint(0, 100, 100)
x = [score1, score2]
colors = [&ldquo;#8dd3c7&rdquo;, &ldquo;#bebada&rdquo;]</p>

<p>bins = range(0, 101, 10)</p>

<p>plt.hist(x, bins=bins, color=colors, histtype=&ldquo;bar&rdquo;, rwidth=10, stacked=True, label=[&ldquo;班级A&rdquo;, &ldquo;班级B&rdquo;])</p>

<p>plt.xlabel(&ldquo;测试成绩&rdquo;)
plt.ylabel(&ldquo;学生人数&rdquo;)</p>

<p>plt.title(&ldquo;堆积直方图&rdquo;)</p>

<p>plt.legend(loc=&ldquo;upper left&rdquo;)
plt.show()</p>

<pre><code>
## 并列直方图

将上面的 `stacked=True` 修改为 `stacked=False` 即可

# 饼图

`plt.pie([各元素的百分比数据], labels=[数据 data 的数据的名称], autopct=&quot;%3.1f%%&quot;, startangle=60, colors=[各元素的对应颜色])`

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>plt.pie([0.2, 0.3, 0.2, 0.15, 0.15], labels=[&ldquo;广东&rdquo;, &ldquo;浙江&rdquo;, &ldquo;香港&rdquo;, &ldquo;西藏&rdquo;, &ldquo;四川&rdquo;],
        autopct=&ldquo;%3.1f%%&rdquo;, startangle=60)</p>

<p>plt.title(&ldquo;饼图&rdquo;)</p>

<p>plt.legend()
plt.show()</p>

<pre><code>
## 分裂式饼图

添加参数 `.pie(explode=[对应每个元素偏离半径的百分比,如 0.1]`

`shadow` 参数: 是否绘制饼图的阴影

# 极线图

`plt.polar(theta, r, color=&quot;chartreuse&quot;, linewidth=2, marker=&quot;*&quot;, mfc=&quot;b&quot;, ms=10)`

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>barSlice = 12
theta = np.linspace(0.0, 2*np.pi, barSlice, endpoint=False)
r = 30 * np.random.rand(barSlice)</p>

<p>plt.polar(theta, r, color=&ldquo;chartreuse&rdquo;, linewidth=2, marker=&rdquo;*&ldquo;, mfc=&ldquo;b&rdquo;, ms=10)</p>

<p>plt.title(&ldquo;极线图&rdquo;)</p>

<p>plt.legend(loc=&ldquo;lower left&rdquo;)
plt.show()</p>

<pre><code>
![image-20200317001559098](/img/image-20200317001559098.png)

# 气泡图

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.random.randn(100)
y = np.random.randn(100)</p>

<p>plt.scatter(x, y, s=np.power(10*x + 20*y, 2), c=np.random.rand(100), cmap=mpl.cm.RdYlBu, marker=&ldquo;o&rdquo;)</p>

<p>plt.title(&ldquo;气泡图&rdquo;)</p>

<p>plt.legend(loc=&ldquo;lower left&rdquo;)
plt.show()</p>

<pre><code>
- `s` : 气泡大小
- `c` : 气泡颜色
- `cmap` : 将浮点数值映射成颜色的颜色映射表

![image-20200317002041788](/img/image-20200317002041788.png)

# 棉棒图

https://matplotlib.org/api/_as_gen/matplotlib.pyplot.stem.html

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.linspace(0.5, 2*np.pi, 20)
y = np.random.randn(20)</p>

<p>plt.stem(x, y, linefmt=&ldquo;-&rdquo;, markerfmt=&ldquo;o&rdquo;, basefmt=&ldquo;-&rdquo;)</p>

<p>plt.title(&ldquo;棉棒图&rdquo;)</p>

<h1 id="plt-legend-loc-lower-left">plt.legend(loc=&ldquo;lower left&rdquo;)</h1>

<p>plt.show()</p>

<pre><code>


![image-20200317002723038](/img/image-20200317002723038.png)

# 绘制箱线

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.random.randn(1000)
plt.boxplot(x)
plt.xticks([1], [&ldquo;随机数生成器ARM&rdquo;])
plt.ylabel(&ldquo;随机数值&rdquo;)
plt.title(&ldquo;随机数生成器抗干扰能力稳定性&rdquo;)
plt.grid(axis=&ldquo;y&rdquo;, ls=&rdquo;:&ldquo;, lw=1, color=&ldquo;gray&rdquo;, alpha=0.4)</p>

<p>plt.title(&ldquo;箱图&rdquo;)</p>

<h1 id="plt-legend-loc-lower-left-1">plt.legend(loc=&ldquo;lower left&rdquo;)</h1>

<p>plt.show()</p>

<pre><code>
![image-20200317003718419](/img/image-20200317003718419.png)

# 误差棒图

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.linspace(0.1, 0.6, 6)
y = np.exp(x)
plt.errorbar(x, y, fmt=&ldquo;bo:&ldquo;, yerr=0.2, xerr=0.02)
plt.xlim(0, 0.7)
plt.title(&ldquo;误差棒图&rdquo;)</p>

<h1 id="plt-legend-loc-lower-left-2">plt.legend(loc=&ldquo;lower left&rdquo;)</h1>

<p>plt.show()</p>

<pre><code>
![image-20200317004056143](/img/image-20200317004056143.png)

# 阶梯图

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.linspace(1, 10, 10)
y = np.sin(x)
plt.step(x, y, color=&ldquo;#8dd3c7&rdquo;, where=&ldquo;pre&rdquo;, lw=2)
plt.xlim(0, 11)
plt.xticks(np.arange(1, 11, 1))
plt.ylim(-1.2, 1.2)</p>

<p>plt.title(&ldquo;阶梯图&rdquo;)</p>

<h1 id="plt-legend-loc-lower-left-3">plt.legend(loc=&ldquo;lower left&rdquo;)</h1>

<p>plt.show()</p>

<pre><code>
![image-20200317031422404](/img/image-20200317031422404.png)

# 完善图图形

## 图例

</code></pre>

<p>python
plt.legend(loc=&ldquo;upper left&rdquo;, bbox_to_anchor=(0.05, 0.95), ncol=3, title=&ldquo;title&rdquo;, shadow=True, fancybox=True)</p>

<pre><code>
- `loc` : 位置参数
- `bbox_to_anchor` : 线框位置参数. 是一个四元元组
  - 第一个元素, 表示距离画布左侧 x 轴长度的倍数的距离
  - 第二个元素, 表示距离画布底部 y 轴长度的倍数的距离
  - 第三个元素, 表示x 轴长度的倍数的线框长度
  - 第四个元素, 表示y 轴长度的倍数的线框宽度
- `title` : 标签内容的标题
- `shadow` : 线框阴影
- `fancybox` : 圆角

## 画布标题

</code></pre>

<p>python
plt.title(&ldquo;这是标题&rdquo;, loc=&ldquo;right&rdquo;, family=&ldquo;字体 Family&rdquo;, size=20, style=&ldquo;oblique&rdquo;, color=&ldquo;c&rdquo;)</p>

<pre><code>
## 改变刻度标签

</code></pre>

<p>python
plt.xticks([数据&hellip;], [标签&hellip;])</p>

<pre><code>
## x 轴逆序

</code></pre>

<p>python
plt.xlim(大, 小)</p>

<pre><code>
## 添加表格

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<h1 id="np-random-randint-5-size-2-4">np.random.randint(5, size=(2, 4))</h1>

<p>data = np.random.randint(100, size=(2, 4))
print(len(data))
rowLabels = [&ldquo;行一标签&rdquo;, &ldquo;行二标签&rdquo;]
print(len(rowLabels))</p>

<p>plt.table(cellText=data, cellLoc=&ldquo;center&rdquo;,colWidths=[0.1] * 4,
          colLabels=[&ldquo;header1&rdquo;, &ldquo;header2&rdquo;, &ldquo;header3&rdquo;, &ldquo;header4&rdquo;],
          colColours=[&ldquo;#8d1a3c&rdquo;, &ldquo;#8d2a3c&rdquo;, &ldquo;#8d3a3c&rdquo;, &ldquo;#8d4a3c&rdquo;],
          rowLabels=rowLabels,
          rowLoc=&ldquo;center&rdquo;,
          loc=&ldquo;best&rdquo;)</p>

<p>plt.show()</p>

<pre><code>
![image-20200317132551657](/img/image-20200317132551657.png)

## 刻度自适应

</code></pre>

<p>python
plt.autoscale(enable=True, axis=&ldquo;both&rdquo;, tight=True)</p>

<pre><code>
- `tight` : 让坐标轴的范围调整到数据的范围上

# 刻度定位器和格式器

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import AutoMinorLocator, MultipleLocator, FuncFormatter</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.linspace(0.5, 3.5, 100)
y = np.sin(x)</p>

<p>fig = plt.figure(figsize=(8, 8))</p>

<p>ax = fig.add_subplot(111)</p>

<h1 id="set-major">set major</h1>

<p>ax.xaxis.set_major_locator(MultipleLocator(1.0))
ax.yaxis.set_major_locator(MultipleLocator(1.0))</p>

<h1 id="set-minor">set minor</h1>

<p>ax.xaxis.set_minor_locator(AutoMinorLocator(4))
ax.yaxis.set_minor_locator(AutoMinorLocator(4))</p>

<h1 id="set-minor-formatter">set minor formatter</h1>

<p>def minor_tic(x, pos):
    if not x % 1.0:
        return &ldquo;&rdquo;
    return &ldquo;%.2f&rdquo; % x</p>

<p>ax.xaxis.set_minor_formatter(FuncFormatter(minor_tic))</p>

<p>ax.tick_params(&ldquo;y&rdquo;, which=&ldquo;major&rdquo;, length=15, width=2.0, color=&ldquo;r&rdquo;)
ax.tick_params(which=&ldquo;minor&rdquo;, length=5, width=1.0, labelsize=10, labelcolor=&lsquo;0.25&rsquo;)</p>

<p>ax.set_xlim(0, 4)
ax.set_ylim(0, 2)</p>

<p>ax.plot(x, y, c=(0.25, 0.25, 1.00), lw=2, zorder=10)
ax.grid(linestyle=&ldquo;-&rdquo;, linewidth=0.5, color=&ldquo;r&rdquo;, zorder=0)</p>

<p>plt.show()</p>

<pre><code>
- `ax.xaxis.set_major_locator(MultipleLocator(1.0))` : 表示在 x 轴的 1 倍处分别设置`主刻度线`.
- `ax.xaxis.set_minor_locator(AutoMinorLocator(4))` : 表示在 x 轴设置次要刻度线. `AutoMinorLocator(4)` 表示将每一份主刻度线区间等分为 4 份
- `ax.xaxis.set_minor_formatter(FuncFormatter(minor_tic))` : 设置`次要刻度线`显示位置的精度
- `ax.tick_params(&quot;y&quot;, which=&quot;major&quot;, length=15, width=2.0, colors=&quot;r&quot;)` . 也可通过 `plt.tick_params()` 来设置
  - 设置主刻度的样式(which=&quot;major&quot;)
  - `length` : 表示主刻度线的长度
  - `width` : 设置主刻度线的宽度
  - `colors` : 设置`主刻度线`和`主刻度标签`的颜色 

![image-20200317211800332](/img/image-20200317211800332.png)



## 定制

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import AutoMinorLocator, MultipleLocator, FuncFormatter</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>fig = plt.figure(facecolor=(1.0, 1.0, 0.9412))
ax = fig.add_axes([0.1, 0.4, 0.5, 0.5])</p>

<p>for ticklabel in ax.xaxis.get_ticklabels():
    ticklabel.set_color(&ldquo;slateblue&rdquo;)
    ticklabel.set_fontsize(18)
    ticklabel.set_rotation(30)</p>

<p>for tickline in ax.yaxis.get_ticklines():
    tickline.set_color(&ldquo;lightgreen&rdquo;)
    tickline.set_markersize(20)
    tickline.set_markeredgewidth(2)</p>

<p>plt.show()</p>

<pre><code>
![image-20200317213514548](/img/image-20200317213514548.png)

## 定制 Y 轴的标签

</code></pre>

<p>python
from matplotlib.ticker import FormatStrFormatter</p>

<p>ax.yaxis.set_major_formatter(FormatStrFormatter(r&rdquo;$\yen%1.1f$&ldquo;))</p>

<pre><code>
# 水印文本

</code></pre>

<p>python
plt.text(1, 2, &ldquo;文本&rdquo;, fontsize=50, color=&ldquo;gray&rdquo;, alpha=0.5)</p>

<pre><code>


# 划分画布

## subplot

</code></pre>

<p>python
subplot(rows, cols, plotNum) 或 subplot(RCN)</p>

<pre><code>
子区编号从 1 开始,左上角是第 1, 序号依次向右递增. 也就是说, 每行的子区位置都是从左向右进行升序. 即 `subplot(2, 3, 4)` 是第二行的第四个子区.

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import AutoMinorLocator, MultipleLocator, FuncFormatter</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>x = np.linspace(-2 * np.pi, 2 * np.pi, 200)
y = np.sin(x)
y1 = np.cos(x)</p>

<p>plt.subplot(231)
plt.xlabel(&ldquo;sin&rdquo;)
plt.plot(x, y)</p>

<p>plt.subplot(232)
plt.xlabel(&ldquo;cos&rdquo;)
plt.plot(x, y1)</p>

<p>plt.subplot(234)
plt.xlabel(&ldquo;cos1&rdquo;)
plt.plot(x, y1)</p>

<p>plt.show()</p>

<pre><code>
![image-20200319130052331](/img/image-20200319130052331.png)

## subplot2grid

&gt; 让子区跨越固定的网格布局

`subplot` 只能绘制等分画布. 但 `subplot2grid` 可使用 `rowspan` 和 `colspan` 参数让子区跨越固定的风格的多个行和列.

- `subplot2grid((rows,cols), (第几行,第几列), colspan=跨多少列, rowspan=跨多少行)`
- 第一行, 第列表示 `(0, 0)`
- 注意, 行列, 是`从 0 开始`算起

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import AutoMinorLocator, MultipleLocator, FuncFormatter</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>plt.subplot2grid((2, 3), (0, 0), colspan=2)</p>

<p>x = np.linspace(0.0, 4.0, 100)
y = np.random.randn(100)
plt.scatter(x, y, c=&ldquo;c&rdquo;)
plt.title(&ldquo;散点图&rdquo;)</p>

<p>plt.subplot2grid((2, 3), (0, 2))
plt.title(&ldquo;空白绘图区域&rdquo;)</p>

<p>plt.subplot2grid((2, 3), (1, 0), colspan=3)
x = np.linspace(0.0, 4.0, 100)
y1 = np.sin(x)
plt.plot(x, y, lw=2, ls=&ldquo;-&rdquo;)
plt.xlim(0, 3)
plt.grid(True, ls=&rdquo;:&ldquo;, c=&ldquo;r&rdquo;)
plt.title(&ldquo;折线图&rdquo;)</p>

<p>plt.suptitle(&ldquo;subplot2grid 函数的实例&rdquo;, fontsize=6)</p>

<p>plt.show()</p>

<pre><code>
![image-20200319131817595](/img/image-20200319131817595.png)

## subplots

`fig, ax = plt.subplots(rows, cols)`

返回多个子区. 然后可用过 `ax[N]` 来引用不同子区, 然后设置相应的图形参数即可. 比如

</code></pre>

<p>python
ax1=ax[0]
ax1.plot(x, y)</p>

<p>ax2=ax[1]
ax2.plot(x,y)</p>

<pre><code>
## 共享坐标轴

&gt; 共享 X 轴: axes2 = axes.twinx()
&gt;
&gt; 共享 Y 轴: axes2 = axes.twiny()

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np
from matplotlib.ticker import AutoMinorLocator, MultipleLocator, FuncFormatter</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False</p>

<p>fig, ax1 = plt.subplots()
t = np.arange(0.05, 10.0, 0.01)
s1 = np.exp(t)</p>

<p>ax1.plot(t, s1, c=&ldquo;b&rdquo;, ls=&ldquo;-&rdquo;)
ax1.set_xlabel(&ldquo;x 坐标&rdquo;)
ax1.set_ylabel(&ldquo;以e 为底指数&rdquo;, color=&ldquo;b&rdquo;)
ax1.tick_params(&ldquo;y&rdquo;, color=&ldquo;b&rdquo;)</p>

<p>ax2 = ax1.twinx()
s2 = np.cos(t**2)
ax2.plot(t, s2, c=&ldquo;r&rdquo;, ls=&rdquo;:&ldquo;)
ax2.set_ylabel(&ldquo;余弦函数&rdquo;, color=&ldquo;r&rdquo;)
ax2.tick_params(&ldquo;y&rdquo;, color=&ldquo;r&rdquo;)</p>

<p>plt.show()</p>

<pre><code>
![image-20200320132122990](/img/image-20200320132122990.png)

## 在画布中任意位置添加坐标轴

</code></pre>

<p>python
plt.axes([left, bottom, width, height], frameon=True, axisbg=&ldquo;y&rdquo;)</p>

<pre><code>
- `left` : 表示左侧边缘距离画布的距离
- `bottom` : 表示底部边缘距离画布的距离

# 保存图片到文件

</code></pre>

<p>python
plt.savefig(&ldquo;/tmp/hello.png&rdquo;)</p>

<pre><code>


# Mac 里显示中文

</code></pre>

<p>python
import matplotlib as mpl
import matplotlib.pyplot as plt
import numpy as np</p>

<p>plt.rcParams[&lsquo;font.sans-serif&rsquo;] = [&lsquo;Arial Unicode MS&rsquo;]
mpl.rcParams[&ldquo;axes.unicode_minus&rdquo;] = False
```</p>

<h1 id="风格">风格</h1>

<table>
<thead>
<tr>
<th>Character</th>
<th>Line Style</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>'-'</code></td>
<td>solid line</td>
</tr>

<tr>
<td><code>'--'</code></td>
<td>dashed line</td>
</tr>

<tr>
<td><code>'-.'</code></td>
<td>dash-dot line</td>
</tr>

<tr>
<td><code>':'</code></td>
<td>dotted line</td>
</tr>
</tbody>
</table>

<h1 id="tex-功能">TeX 功能</h1>

<p>通过 <code>r&quot;$...$&quot;</code> 来渲染</p>

<h1 id="资料">资料</h1>

<ul>
<li><a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li>
<li></li>
</ul>

    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">emacsist</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">2020-03-16</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>

    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">Reward</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/img/wxpay.jpeg">
        <span>wechat</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/img/alipay.jpeg">
        <span>alipay</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/python/">python</a>
          
          <a href="/tags/matplotlib/">matplotlib</a>
          
          <a href="/tags/matplot/">matplot</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="https://emacsist.github.io/2020/03/22/jq%E5%AD%A6%E4%B9%A0/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Jq学习</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="https://emacsist.github.io/2020/01/07/swiftui-for-absolute-beginners%E8%AF%BB%E4%B9%A6/">
            <span class="next-text nav-default">&lt;SwiftUI for Absolute Beginners&gt;读书</span>
            <span class="prev-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  <div id="comments-gitment"></div>
  <link rel="stylesheet" href="/lib/gitment/gitment-0.0.3.min.css">
    <script src="/lib/gitment/gitment-0.0.3.min.js"></script>
  <script type="text/javascript">
  const gitment = new Gitment({
    id: '2020-03-16 23:05:54 \x2b0800 CST',
    title: 'Matplotlib学习',
    link: decodeURI(location.href),
    desc: '概念 figure 在一个图形输出窗口中, 底层就是一个 Figure , 通常称为画布. Axes',
    owner: 'emacsist',
    repo: 'emacsist.github.io',
    oauth: {
      client_id: 'd1456501fba5329f3afa',
      client_secret: 'd1ecbb7929a49de947215701320c60b312a72d3a'
    }
  })
  gitment.render('comments-gitment')
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://github.com/imsun/gitment">comments powered by gitment.</a></noscript>

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:emacsist@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/emacsist2016" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://plus.google.com/u/0/114200054463267049438" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/emacsist" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/emacist" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/people/emacsist/" class="iconfont icon-douban" title="douban"></a>
  <a href="https://emacsist.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
    <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>


  <span class="copyright-year">
    &copy; 
    
      2014 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">emacsist</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  
<script type="text/javascript" src="/dist/even.min.js?v=3.1.1"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-118327923-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>









<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1278300546'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1278300546%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</body>
</html>
